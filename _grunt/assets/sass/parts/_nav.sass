$menu_line: 5px
$menu_gap: 8px
$menu_width: 40px
$menu_offset_top: 35px
$menu_offset_right: 40px
$menu_toggle_offset: ($menu_line + $menu_gap)/2
.top-bar-background
    padding: 0
    box-shadow: 0 2px 5px rgba(#000, .3)
    height: ($menu_offset_top*2) + ($menu_line*3) + ($menu_gap*2)
    .name
        ul, li
            margin-bottom: 0
        h1
            padding: 0
            margin: 0
            position: absolute
            top: 25px
            left: 20px
#top-bar #menu
    position: fixed
    display: block
    +positions(0,0,auto,auto)
    ul
        width: 0
        height: 0
        overflow: hidden
        transition-duration: 0
.menu-on
    #top-bar #menu
        +positions(0,0,0,0)
        background-color: rgba(#000, .9)
        z-index: 999999999
        ul#nav
            +striplist
            width: 300px
            height: auto
            position: absolute
            +positions(50%,auto,auto,50%)
            margin-left: -150px
            transform: translateY(-50%)
            li
                a
                    font-size: 3em
                    text-align: center
                    display: block
                    font-family: $proxima
%lines
    content: ''
    background-color: red
    display: block
    position: absolute
    +positions(0,auto,auto,0)
    +hide-text
    will-change: transform, opacity
    transition: transform .3s ease-in 0, opacity 1s ease-out .2s
a.menu-toggle
    position: absolute
    +positions(0,0,auto,auto)
    display: inline-block
    width: $menu_width+($menu_offset_right*2)
    height: (($menu_line*3)+($menu_gap*2))+($menu_offset_top*2)
    transition-duration: 0
    &:hover
        background-color: #eee
    &:after, &:before, span
        @extend %lines
        width: $menu_width
        height: $menu_line
    &:after
        +positions($menu_offset_top,auto,auto,$menu_offset_right)
    &:before
        +positions(($menu_line+$menu_gap+$menu_offset_top),auto,auto,$menu_offset_right)
    span
        +positions((($menu_line*2)+($menu_gap*2))+$menu_offset_top,auto,auto,$menu_offset_right)
.menu-on
    a.menu-toggle
        &:hover
            background-color: #000
        &:after
            transform: rotate(45deg)
            +positions(($menu_line+$menu_gap+$menu_offset_top),auto,auto,$menu_offset_right)
        &:before
            opacity: 0
            transform: translateX(100%)
            transition: transform .3s ease-in 0, opacity .3s ease-out 0s
        span
            transform: rotate(-45deg)
            +positions(($menu_line+$menu_gap+$menu_offset_top),auto,auto,$menu_offset_right)

+breakpoint(small)
    $menu_line: 3px
    $menu_gap: 5px
    $menu_width: 20px
    $menu_offset_top: 23px
    $menu_offset_right: 20px
    $menu_toggle_offset: ($menu_line + $menu_gap)/2
    .top-bar-background
        height: ($menu_offset_top*2) + ($menu_line*3) + ($menu_gap*2)
        .name
            ul, li
                padding: 0
            h1
                padding: 0
                margin: 0
                position: absolute
                top: 7px
                left: 15px
                .logo
                    max-width: 250px

    a.menu-toggle
        width: $menu_width+($menu_offset_right*2)
        height: (($menu_line*3)+($menu_gap*2))+($menu_offset_top*2)
        &:after, &:before, span
            width: $menu_width
            height: $menu_line
        &:after
            +positions($menu_offset_top,auto,auto,$menu_offset_right)
        &:before
            +positions(($menu_line+$menu_gap+$menu_offset_top),auto,auto,$menu_offset_right)
        span
            +positions((($menu_line*2)+($menu_gap*2))+$menu_offset_top,auto,auto,$menu_offset_right)
    .menu-on
        a.menu-toggle
            &:after
                +positions(($menu_line+$menu_gap+$menu_offset_top),auto,auto,$menu_offset_right)
            span
                +positions(($menu_line+$menu_gap+$menu_offset_top),auto,auto,$menu_offset_right)

+breakpoint(tiny)
    .top-bar-background
        .name
            h1
                .logo
                    max-width: 80%